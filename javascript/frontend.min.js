"use strict";class Node{constructor(element){if(typeof element=="string")this.node=document.createElement(element);else this.node=this.createSingleNode(element);}
createSingleNode(array){let node=document.createElement(array[0]);for(let i=1,l=array.length;i<l;i++){if(array[i]instanceof Array)node.appendChild(this.createSingleNode(array[i]));if(typeof array[i]==="object"){for(let value of Object.keys(array[i]))node[value]=array[i][value];continue;}
if(typeof array[i]==="string")node.appendChild(document.createTextNode(array[i]));}
return node;}
createMultipleNodes(array){let node=[];if(array[0]instanceof Array){for(let i=0,l=array.length;i<l;i++)node.push(this.createSingleNode(array[i]));return node;}
return node;}
init(targetNode=document.body){targetNode.appendChild(this.node);}
initNode(nodeName){nodeName.node.appendChild(this.node);}
initId(idName){document.getElementById(idName).appendChild(this.node);}
initTag(tagName){document.getElementsByTagName(tagName)[0].appendChild(this.node);}
clear(){while(this.node.lastChild)this.node.removeChild(this.node.lastChild);}
addS(array){this.node.appendChild(this.createSingleNode(array));}
addM(array){for(let node of this.createMultipleNodes(array))this.node.appendChild(node);}
set(array){this.clear();if(array[0]instanceof Array)this.addM(array);return this.addS(array);}
text(string){this.node.appendChild(document.createTextNode(string));}
setText(string){this.clear();this.text(string);}
on(method,func){this.node.addEventListener(method,function(){func();});}}
class Form extends Node{constructor(attr){super(["form",attr]);}
submit(callback){this.node.addEventListener("submit",e=>{e.preventDefault();callback();});}}
class Img{constructor(){this.node=document.createElement("img");}
init(targetNode=document.body){targetNode.appendChild(this.node);}
load(path){this.node.src=path;}}
class Slideshow extends Node{constructor(images,config){super(["slideshow"]);this.images=images;this.config=config;this.index=0;this.img=new Img();this.img.load(config.folder+this.images[0]);this.wrap=document.createElement("div");this.wrap.className="ssmain";this.prevButton=this.createSingleNode(["button","<"]);this.nextButton=this.createSingleNode(["button",">"]);this.nextButton.addEventListener("click",()=>{this.next();});this.prevButton.addEventListener("click",()=>{this.prev();});this.wrap.appendChild(this.prevButton);this.wrap.appendChild(this.img.node);this.wrap.appendChild(this.nextButton);this.thumbnails=document.createElement("div");this.thumbnails.className="ssthumbnails";for(let i=0,l=this.images.length;i<l;i++){let img=document.createElement("img");img.dataset.index=i;img.src=this.config.folder+this.images[i];img.addEventListener("click",()=>{let index=img.dataset.index;this.img.load(this.config.folder+this.images[index]);this.index=parseInt(index);});this.thumbnails.appendChild(img);}
this.node.appendChild(this.wrap);this.node.appendChild(this.thumbnails);}
next(){if(this.index<this.images.length-1){this.index=this.index+1;this.img.load(this.config.folder+this.images[this.index]);}}
prev(){if(this.index!==0){this.index=this.index-1;this.img.load(this.config.folder+this.images[this.index]);}}}
